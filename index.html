<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vuelve a Ti ¬∑ Or√°culo</title>
  <meta name="description" content="Or√°culo Vuelve a Ti: una gu√≠a suave para tu d√≠a." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --lavanda:#CBAACB;
      --beige:#EFE3D6;
      --rosa:#E6B7C2;
      --dorado:#D4AF37;
      --tinta:#3E2833;
      --bg:#EFE7DE;           /* fondo m√°s n√≠tido */
      --card:#FFFFFF;
      --shadow:0 10px 38px rgba(62,40,51,.08);
      --radius:28px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--tinta);}
    body{display:flex;align-items:center;justify-content:center;padding:24px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;}
    .app{width:min(940px,100%);}
    header{text-align:center;margin:16px 0 34px}
    header h1{font-family:Marcellus,serif;font-weight:400;font-size:clamp(22px,4vw,36px);margin:0}
    header p{margin:8px 0 0;opacity:.85}
    .screen{display:none}
    .screen.active{display:block;animation:fade .35s ease-out}
    /* INICIO */
    .welcome{display:grid;gap:22px;justify-items:center;margin-top:18px}
    .lead{font-weight:800}
    .choices{display:grid;gap:14px;max-width:640px;width:100%;margin-top:6px}
    .btn{
      border:1px solid #e7d8cc;background:white;color:var(--tinta);
      padding:16px 20px;border-radius:20px;font-weight:800;cursor:pointer;
      box-shadow: var(--shadow); font-size:clamp(15px,2.5vw,18px);
    }
    .btn.big{padding:18px 22px;border-radius:24px}
    .btn.ghost{background:transparent;border-color:#e0d2c7;box-shadow:none}
    /* CARTA */
    .card{
      background:linear-gradient(180deg,#FFFFFF 0%, #FFF9F7 100%);
      border:1px solid #eadfd6;
      border-radius:var(--radius);
      padding:28px;
      box-shadow: var(--shadow);
      display:grid;gap:14px;min-height:320px;
      animation:rise .35s ease-out;
    }
    .title{font-family:Marcellus,serif;font-size:clamp(24px,3.6vw,34px);margin:2px 0 4px;text-align:center}
    .phrase{font-size:clamp(16px,2.4vw,20px);font-weight:800;text-align:center}
    .msg{font-size:clamp(15px,2.2vw,18px);line-height:1.65;text-align:center} /* centrado */
    .meta{margin-top:10px;text-align:center;opacity:.7;font-size:13px}
    .actions{display:flex;justify-content:space-between;gap:12px;margin-top:18px}
    .actions .btn{min-width:44%;}
    footer{margin-top:18px;font-size:12px;opacity:.7;text-align:center}
    /* Ocultar cabecera y bienvenida cuando se est√° en modo carta */
    body.mode-reading header, body.mode-reading #welcome{display:none !important;}
    @keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
    @keyframes rise{from{opacity:0;transform:translateY(10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>‚ú® Vuelve a Ti ¬∑ Or√°culo ‚ú®</h1>
      <p>Una gu√≠a suave para tu d√≠a</p>
    </header>

    <!-- Pantalla inicial -->
    <section id="welcome" class="screen welcome active">
      <div class="lead"><strong>Elige el or√°culo que te iluminar√° hoy</strong></div>
      <div class="choices">
        <button class="btn big" data-deck="auto">üå∏ De la Autoexigencia a la Suavidad</button>
        <button class="btn big" data-deck="busca">üåô De Buscadora a Encontradora</button>
      </div>
    </section>

    <!-- Pantalla de carta -->
    <section id="reading" class="screen">
      <article class="card" id="card">
        <div class="title" id="title">Nombre de la Carta</div>
        <div class="phrase" id="phrase">‚ÄúFrase de poder‚Ä¶‚Äù</div>
        <div class="msg" id="msg">‚ÄúMensaje gu√≠a‚Ä¶‚Äù</div>
      </article>
      <div class="meta" id="meta">Mazo ¬∑ Carta X</div>
      <div class="actions">
        <button id="backBtn" class="btn ghost">‚Üê Elegir otro or√°culo</button>
        <button id="againBtn" class="btn">Otra carta ‚ú®</button>
      </div>
    </section>

    <footer>¬© Vuelve a Ti ¬∑ Rosita √Åvila</footer>
  </div>

<script>
// --- Datos: 12 cartas por mazo para que "Otra carta" siempre cambie ---
const decks = {
  auto: {
    name: "De la autoexigencia a la suavidad",
    list: [
      ["Carga Pesada","Reconozco que he llevado m√°s de lo que me corresponde.","No eres d√©bil por admitir tu cansancio. Ver la carga es el primer paso para soltarla. Hoy, date el permiso de sentir lo que pesa."],
      ["La Voz Dura","Observo la dureza con la que me hablo.","Tus palabras pueden ser cuchillos o caricias. Al reconocer la exigencia, se abre espacio para suavizarla. Hoy, h√°blate con amor."],
      ["Siempre M√°s","Acepto que no necesito demostrarme todo el tiempo.","La carrera del 'm√°s' te aleja de ti. Hoy, basta con ser."],
      ["Reloj Implacable","Veo c√≥mo me presiono con el tiempo.","Tu valor no se mide en segundos. Hoy, baja el ritmo."],
      ["Perfecci√≥n Fr√≠a","Reconozco la dureza de querer hacerlo perfecto.","La perfecci√≥n es c√°rcel invisible. Hoy, permite que algo quede incompleto."],
      ["Rendirse al Fluir","Conf√≠o en que la vida sabe m√°s que mi control.","La rigidez nace del miedo. Hoy, entr√©gate al fluir."],
      ["Manos Abiertas","Suelto lo que no depende de m√≠.","Lo que es para ti llega sin forzar. Hoy, recibe."],
      ["Puente de Confianza","Camino confiando aunque no vea el final.","No necesitas todas las respuestas para dar el paso. Hoy, conf√≠a."],
      ["Mirada Suave","Elijo mirarme con ojos de amor.","La ternura es medicina. Hoy, m√≠rate con cari√±o."],
      ["Dulzura Cotidiana","Llevo ternura a los gestos peque√±os de mi d√≠a.","Un t√©, un suspiro, una pausa. Hoy, honra lo peque√±o."],
      ["Presencia Dulce","Habito mi presente con dulzura.","El ahora es un jard√≠n que pide suavidad. Hoy, qu√©date aqu√≠."],
      ["Alma Ligera","Elijo caminar libre de exigencia.","No necesitas probar nada, solo estar. Hoy, camina ligera."]
    ]
  },
  busca: {
    name: "De buscadora a encontradora",
    list: [
      ["Camino Inquieto","Reconozco mi anhelo de encontrar afuera lo que ya soy.","Corr√≠as tras respuestas; tu hogar estaba dentro. Hoy, observa ese impulso con ternura."],
      ["Espejos Ajenos","Me doy cuenta de cu√°nto me pierdo en los dem√°s.","Los espejos inspiran, no te definen. Hoy, vuelve a tu centro."],
      ["Sed de M√°s","Acepto que siempre cre√≠ que faltaba algo.","Nombrar la carencia abre la puerta a la plenitud. Hoy, no falta nada."],
      ["Camino Cansado","Acepto mi cansancio de buscar sin fin.","Detenerse tambi√©n es sabio. Hoy, descansa."],
      ["Desencanto Dulce","Acepto que no encontr√© lo que esperaba.","El desencanto es un portal. Hoy, deja caer la ilusi√≥n y respira."],
      ["Puerta Interior","La entrada a mi verdad est√° dentro de m√≠.","Cruza el umbral: tu tesoro vive adentro."],
      ["Coraz√≥n Vivo","Escucho la voz suave de mi coraz√≥n.","No exige, susurra. Hoy, ati√©ndelo."],
      ["Sagrado Silencio","Encuentro en el silencio mi verdad m√°s profunda.","El silencio es plenitud. Hoy, hab√≠talo."],
      ["Presencia Plena","Habito este instante como totalidad.","La encontradora no busca, vive. Hoy, s√© presencia."],
      ["Gozo Simple","Encuentro alegr√≠a en lo sencillo.","Una taza de t√©, una risa. Hoy, celebra lo peque√±o."],
      ["Ser Completa","Me reconozco plena sin buscar nada m√°s.","No te falta nada. Hoy, abr√°zate como totalidad."],
      ["Luz Expandida","Comparto mi luz desde la plenitud interior.","Al encontrarte, irradias sin esfuerzo. Hoy, brilla suave."]
    ]
  }
};

// --- Estado y utilidades ---
const state = { deckKey: null, lastIndex: null };

function drawRandom(deckKey){
  const d = decks[deckKey];
  const pool = d.list;
  if(!pool || pool.length === 0) return;

  let idx = Math.floor(Math.random()*pool.length);
  if (state.lastIndex === idx && pool.length > 1){
    // evita repetir inmediata
    idx = (idx + 1 + Math.floor(Math.random()*(pool.length-1))) % pool.length;
  }
  state.lastIndex = idx;
  renderCard(d.name, idx+1, pool[idx]);

  const url = new URL(location);
  url.searchParams.set("deck", deckKey);
  history.replaceState(null,"",url);
}

function renderCard(deckName, number, arr){
  const [title, phrase, msg] = arr;
  document.getElementById("title").textContent = title;
  document.getElementById("phrase").textContent = `‚Äú${phrase}‚Äù`;
  document.getElementById("msg").textContent = `‚Äú${msg}‚Äù`;
  document.getElementById("meta").textContent = `${deckName} ¬∑ Carta ${number}`;
  const el = document.getElementById("card");
  el.style.animation = "none";
  requestAnimationFrame(()=>{ el.style.animation = ""; });
}

// --- Navegaci√≥n simple ---
const welcome = document.getElementById("welcome");
const reading = document.getElementById("reading");
document.querySelectorAll("[data-deck]").forEach(b=>{
  b.addEventListener("click", ()=>{
    state.deckKey = b.dataset.deck;
    document.body.classList.add("mode-reading");  // oculta cabecera y bienvenida
    welcome.classList.remove("active"); reading.classList.add("active");
    drawRandom(state.deckKey);
    window.scrollTo({top:0,behavior:"smooth"});
  });
});
document.getElementById("againBtn").addEventListener("click", ()=>{
  if(state.deckKey){ drawRandom(state.deckKey); }
  window.scrollTo({top:0,behavior:"smooth"});
});
document.getElementById("backBtn").addEventListener("click", ()=>{
  reading.classList.remove("active"); welcome.classList.add("active");
  document.body.classList.remove("mode-reading");
  const url = new URL(location); url.searchParams.delete("deck"); history.replaceState(null,"",url);
  window.scrollTo({top:0,behavior:"smooth"});
});

// Cargar directo si viene con ?deck=
(function init(){
  const url = new URL(location);
  const dk = url.searchParams.get("deck");
  if (dk && decks[dk]){
    state.deckKey = dk;
    document.body.classList.add("mode-reading");
    welcome.classList.remove("active"); reading.classList.add("active");
    drawRandom(state.deckKey);
  }
})();
</script>
</body>
</html>
